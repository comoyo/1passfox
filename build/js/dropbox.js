"use strict";var cloud={};cloud.dropbox={},cloud.dropbox.client=void 0,cloud.dropbox.auth=new Dropbox.Client({key:"ioiuz7xcr9ig0u1"}),cloud.dropbox.auth.onAuth=new CustomEvent("cloud.dropbox.authed"),cloud.dropbox.enumerate=function(o,r){o&&cloud.dropbox.client&&cloud.dropbox.client.readdir(o)&&cloud.dropbox.client.readdir(o,function(e,n){if(e)cloud.dropbox.client.mkdir(o,function(){r(cloud.dropbox.enumerate(o,function(o){return o}))});else{for(var t=0;t<n.length;t++){var i;i="/"!=o[o.length-1]?o+"/":o,n[t]=i+n[t],n[t]=firetext.io.split(n[t]),n[t].push(""),".txt"!=n[t][2]&&".html"!=n[t][2]&&".htm"!=n[t][2]&&(n.splice(t,1),t-=1)}for(var t=0;t<n.length;t++)0==Array.isArray(n[t])|1==n[t][2].length|"."!=n[t][2][0]&&n.splice(t,1);for(var t=0;t<n.length;t++)0==Array.isArray(n[t])|n[t][2].length<=1|"."!=n[t][2][0]&&(n.splice(t,1),t-=1);r(n)}})},cloud.dropbox.load=function(o,r){cloud.dropbox.client&&o?cloud.dropbox.client.readFile(o,function(o,e){spinner("hide"),o?r(o.status,!0):r(e)}):(spinner("hide"),cloud.dropbox.client?o?r("Unknown error",!0):r("Path not defined",!0):r("You are not signed in to Dropbox",!0))},cloud.dropbox.save=function(o,r,e,n){cloud.dropbox.client&&o&&r?(1==e&&spinner(),cloud.dropbox.client.writeFile(o,r,function(){1==e&&spinner("hide"),n()})):n(cloud.dropbox.client?o?r?"Unknown error":"Content not defined":"Path not defined":"You are not signed in to Dropbox")},cloud.dropbox.delete=function(o){return cloud.dropbox.client&&o?void cloud.dropbox.client.remove(o,function(){}):cloud.dropbox.client?o?"Unknown error":"Path not defined":"You are not signed in to Dropbox"},cloud.dropbox.error=function(o){switch(o.status){case Dropbox.ApiError.OVER_QUOTA:alert("Your Dropbox is full :(");break;case Dropbox.ApiError.NETWORK_ERROR:alert("Your network appears to be unavailable.\n\nPlease check your connection and try again.");break;case Dropbox.ApiError.RATE_LIMITED:case Dropbox.ApiError.INVALID_TOKEN:case Dropbox.ApiError.INVALID_PARAM:case Dropbox.ApiError.OAUTH_ERROR:case Dropbox.ApiError.INVALID_METHOD:case 404:}};