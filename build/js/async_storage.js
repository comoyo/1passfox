"use strict";this.asyncStorage=function(){function r(r,n){if(l)n(l.transaction(s,r).objectStore(s));else{var e=indexedDB.open(u,i);e.onerror=function(){console.error("asyncStorage: can't open database:",e.error.name)},e.onupgradeneeded=function(){e.result.createObjectStore(s)},e.onsuccess=function(){l=e.result,n(l.transaction(s,r).objectStore(s))}}}function n(n,e){r("readonly",function(r){var o=r.get(n);o.onsuccess=function(){var r=o.result;void 0===r&&(r=null),e(null,r)},o.onerror=function(){var r=new Error("Error in asyncStorage.getItem(): ",o.error.name);e(r)}})}function e(n,e,o){r("readwrite",function(r){var t=r.put(e,n);o&&(t.onsuccess=function(){o(null,null)}),t.onerror=function(){var r=new Error("Error in asyncStorage.setItem(): ",t.error.name);o(r)}})}function o(n,e){r("readwrite",function(r){var o=r.delete(n);e&&(o.onsuccess=function(){e(null)}),o.onerror=function(){var r=new Error("Error in asyncStorage.removeItem(): ",o.error.name);e(r)}})}function t(n){r("readwrite",function(r){var e=r.clear();n&&(e.onsuccess=function(){n()}),e.onerror=function(){var r=new Error("Error in asyncStorage.clear(): ",e.error.name);n(r)}})}function c(n){r("readonly",function(r){var e=r.count();e.onsuccess=function(){n(null,e.result)},e.onerror=function(){var r=new Error("Error in asyncStorage.length(): ",e.error.name);n(r)}})}function a(n,e){return 0>n?void e(null):void r("readonly",function(r){var o=!1,t=r.openCursor();t.onsuccess=function(){var r=t.result;return r?void(0===n?e(null,r.key):o?e(null,r.key):(o=!0,r.advance(n))):void e(null,null)},t.onerror=function(){var r=new Error("Error in asyncStorage.key(): ",t.error.name);e(r)}})}var u="asyncStorage",i=1,s="keyvaluepairs",l=null;return{getItem:n,setItem:e,removeItem:o,clear:t,length:c,key:a}}();